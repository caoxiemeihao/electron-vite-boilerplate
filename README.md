# electron-vite-boilerplate

[![awesome-vite](https://awesome.re/badge.svg)](https://github.com/vitejs/awesome-vite)
[![Required Node.JS >= v14.17.0](https://img.shields.io/static/v1?label=node&message=%3E=14.17.0&logo=node.js&color=3f893e&style=flat)](https://nodejs.org/about/releases)

<img src="https://raw.githubusercontent.com/electron-vite/electron-vite-boilerplate/main/packages/renderer/public/screenshot-transparent.png" />

## Overview

This is a project structure compact enough Electron + Vite template.

The project focus on the cooperation between Vite and Electron.

**The template lists some common cases as much as possible.**

## Run Setup

  ```bash
  # clone the project
  git clone https://github.com/electron-vite/electron-vite-boilerplate.git

  # enter the project directory
  cd electron-vite-boilerplate

  # install dependency
  npm install

  # develop
  npm run dev
  ```

## Directory

Once `dev` or `build` npm-script executed will be generate named `dist` folder. It has children dir of same as `src` folder, the purpose of this design can ensure the correct path calculation.

```tree
â”œâ”€â”€ dist                      After build, it's generated according to the "packages" directory
|   â”œâ”€â”€ main
|   â”œâ”€â”€ preload
|   â””â”€â”€ renderer
|
â”œâ”€â”€ scripts
|   â”œâ”€â”€ build.mjs             Develop script -> npm run build
|   â””â”€â”€ watch.mjs             Develop script -> npm run dev
|
â”œâ”€â”€ packages
|   â”œâ”€â”€ main                  Main-process source code
|   |   â””â”€â”€ vite.config.ts
|   â”œâ”€â”€ preload               Preload-script source code
|   |   â””â”€â”€ vite.config.ts
|   â””â”€â”€ renderer              Renderer-process source code
|       â””â”€â”€ vite.config.ts
```

## Use SerialPort, SQLite3 or other node-native addons in Main-process

Main-process, Preload-script are also built with Vite, and they are just built as [build.lib](https://vitejs.dev/config/#build-lib).  
So they just need to configure Rollup.  

**Click to see more** ðŸ‘‰ [packages/main/vite.config.ts](https://github.com/electron-vite/electron-vite-boilerplate/blob/main/packages/main/vite.config.ts)

```js
export default {
  build: {
    // built lib for Main-process, Preload-script
    lib: {
      entry: 'index.ts',
      formats: ['cjs'],
      fileName: () => '[name].js',
    },
    rollupOptions: {
      // configuration here
      external: [
        'serialport',
        'sqlite3',
      ],
    },
  },
}
```

## âš ï¸ pnpm

> The "node_modules" file structure generated by "pnpm" will lead to errors in the packaging of "electron builder". For example, the project needs to use "SQLite3"
